/*! gift-aid-for-woocommerce 21-03-2017 */
!function(window,document,undefined){function is(obj,type){return typeof obj===type}function createElement(){return"function"!=typeof document.createElement?document.createElement(arguments[0]):isSVG?document.createElementNS.call(document,"http://www.w3.org/2000/svg",arguments[0]):document.createElement.apply(document,arguments)}function getBody(){var body=document.body;return body||(body=createElement(isSVG?"svg":"body"),body.fake=!0),body}function injectElementWithStyles(rule,callback,nodes,testnames){var style,ret,node,docOverflow,mod="modernizr",div=createElement("div"),body=getBody();if(parseInt(nodes,10))for(;nodes--;)node=createElement("div"),node.id=testnames?testnames[nodes]:mod+(nodes+1),div.appendChild(node);return style=createElement("style"),style.type="text/css",style.id="s"+mod,(body.fake?body:div).appendChild(style),body.appendChild(div),style.styleSheet?style.styleSheet.cssText=rule:style.appendChild(document.createTextNode(rule)),div.id=mod,body.fake&&(body.style.background="",body.style.overflow="hidden",docOverflow=docElement.style.overflow,docElement.style.overflow="hidden",docElement.appendChild(body)),ret=callback(div,rule),body.fake?(body.parentNode.removeChild(body),docElement.style.overflow=docOverflow,docElement.offsetHeight):div.parentNode.removeChild(div),!!ret}function contains(str,substr){return!!~(""+str).indexOf(substr)}function domToCSS(name){return name.replace(/([A-Z])/g,function(str,m1){return"-"+m1.toLowerCase()}).replace(/^ms-/,"-ms-")}function computedStyle(elem,pseudo,prop){var result;if("getComputedStyle"in window){result=getComputedStyle.call(window,elem,pseudo);var console=window.console;if(null!==result)prop&&(result=result.getPropertyValue(prop));else if(console){var method=console.error?"error":"log";console[method].call(console,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else result=!pseudo&&elem.currentStyle&&elem.currentStyle[prop];return result}function nativeTestProps(props,value){var i=props.length;if("CSS"in window&&"supports"in window.CSS){for(;i--;)if(window.CSS.supports(domToCSS(props[i]),value))return!0;return!1}if("CSSSupportsRule"in window){for(var conditionText=[];i--;)conditionText.push("("+domToCSS(props[i])+":"+value+")");return conditionText=conditionText.join(" or "),injectElementWithStyles("@supports ("+conditionText+") { #modernizr { position: absolute; } }",function(node){return"absolute"==computedStyle(node,null,"position")})}return undefined}function cssToDOM(name){return name.replace(/([a-z])-([a-z])/g,function(str,m1,m2){return m1+m2.toUpperCase()}).replace(/^-/,"")}function testProps(props,prefixed,value,skipValueTest){function cleanElems(){afterInit&&(delete mStyle.style,delete mStyle.modElem)}if(skipValueTest=!is(skipValueTest,"undefined")&&skipValueTest,!is(value,"undefined")){var result=nativeTestProps(props,value);if(!is(result,"undefined"))return result}for(var afterInit,i,propsLength,prop,before,elems=["modernizr","tspan","samp"];!mStyle.style&&elems.length;)afterInit=!0,mStyle.modElem=createElement(elems.shift()),mStyle.style=mStyle.modElem.style;for(propsLength=props.length,i=0;i<propsLength;i++)if(prop=props[i],before=mStyle.style[prop],contains(prop,"-")&&(prop=cssToDOM(prop)),mStyle.style[prop]!==undefined){if(skipValueTest||is(value,"undefined"))return cleanElems(),"pfx"!=prefixed||prop;try{mStyle.style[prop]=value}catch(e){}if(mStyle.style[prop]!=before)return cleanElems(),"pfx"!=prefixed||prop}return cleanElems(),!1}function fnBind(fn,that){return function(){return fn.apply(that,arguments)}}function testDOMProps(props,obj,elem){var item;for(var i in props)if(props[i]in obj)return elem===!1?props[i]:(item=obj[props[i]],is(item,"function")?fnBind(item,elem||obj):item);return!1}function testPropsAll(prop,prefixed,elem,value,skipValueTest){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+" "+cssomPrefixes.join(ucProp+" ")+ucProp).split(" ");return is(prefixed,"string")||is(prefixed,"undefined")?testProps(props,prefixed,value,skipValueTest):(props=(prop+" "+domPrefixes.join(ucProp+" ")+ucProp).split(" "),testDOMProps(props,prefixed,elem))}function testAllProps(prop,value,skipValueTest){return testPropsAll(prop,undefined,undefined,value,skipValueTest)}var tests=[],ModernizrProto={_version:"3.4.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(test,cb){var self=this;setTimeout(function(){cb(self[test])},0)},addTest:function(name,fn,options){tests.push({name:name,fn:fn,options:options})},addAsyncTest:function(fn){tests.push({name:null,fn:fn})}},Modernizr=function(){};Modernizr.prototype=ModernizrProto,Modernizr=new Modernizr;var classes=[],docElement=document.documentElement,isSVG="svg"===docElement.nodeName.toLowerCase(),omPrefixes="Moz O ms Webkit",domPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.toLowerCase().split(" "):[];ModernizrProto._domPrefixes=domPrefixes;var prefixes=ModernizrProto._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];ModernizrProto._prefixes=prefixes;var mq=function(){var matchMedia=window.matchMedia||window.msMatchMedia;return matchMedia?function(mq){var mql=matchMedia(mq);return mql&&mql.matches||!1}:function(mq){var bool=!1;return injectElementWithStyles("@media "+mq+" { #modernizr { position: absolute; } }",function(node){bool="absolute"==(window.getComputedStyle?window.getComputedStyle(node,null):node.currentStyle).position}),bool}}();ModernizrProto.mq=mq;var cssomPrefixes=ModernizrProto._config.usePrefixes?omPrefixes.split(" "):[];ModernizrProto._cssomPrefixes=cssomPrefixes;var modElem={elem:createElement("modernizr")};Modernizr._q.push(function(){delete modElem.elem});var mStyle={style:modElem.elem.style};Modernizr._q.unshift(function(){delete mStyle.style}),ModernizrProto.testAllProps=testPropsAll;var atRule=function(prop){var rule,length=prefixes.length,cssrule=window.CSSRule;if(void 0===cssrule)return undefined;if(!prop)return!1;if(prop=prop.replace(/^@/,""),(rule=prop.replace(/-/g,"_").toUpperCase()+"_RULE")in cssrule)return"@"+prop;for(var i=0;i<length;i++){var prefix=prefixes[i];if(prefix.toUpperCase()+"_"+rule in cssrule)return"@-"+prefix.toLowerCase()+"-"+prop}return!1};ModernizrProto.atRule=atRule;ModernizrProto.prefixed=function(prop,obj,elem){return 0===prop.indexOf("@")?atRule(prop):(prop.indexOf("-")!=-1&&(prop=cssToDOM(prop)),obj?testPropsAll(prop,obj,elem):testPropsAll(prop,"pfx"))};ModernizrProto.testAllProps=testAllProps;ModernizrProto.testProp=function(prop,value,useValue){return testProps([prop],undefined,value,useValue)};Modernizr.addTest("flexbox",testAllProps("flexBasis","1px",!0)),Modernizr.addTest("cssanimations",testAllProps("animationName","a",!0)),Modernizr.addTest("cssgradients",function(){for(var angle,str1="background-image:",css="",i=0,len=prefixes.length-1;i<len;i++)angle=0===i?"to ":"",css+=str1+prefixes[i]+"linear-gradient("+angle+"left top, #9f9, white);";Modernizr._config.usePrefixes&&(css+=str1+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var elem=createElement("a"),style=elem.style;return style.cssText=css,(""+style.backgroundImage).indexOf("gradient")>-1}),Modernizr.addTest("csstransforms",function(){return navigator.userAgent.indexOf("Android 2.")===-1&&testAllProps("transform","scale(1)",!0)}),Modernizr.addTest("csstransitions",testAllProps("transition","all",!0)),function(){Modernizr.addTest("csscolumns",function(){var bool=!1,test=testAllProps("columnCount");try{bool=!!test,bool&&(bool=new Boolean(bool))}catch(e){}return bool});for(var name,test,props=["Width","Span","Fill","Gap","Rule","RuleColor","RuleStyle","RuleWidth","BreakBefore","BreakAfter","BreakInside"],i=0;i<props.length;i++)name=props[i].toLowerCase(),test=testAllProps("column"+props[i]),"breakbefore"!==name&&"breakafter"!==name&&"breakinside"!=name||(test=test||testAllProps(props[i])),Modernizr.addTest("csscolumns."+name,test)}();var testStyles=ModernizrProto.testStyles=injectElementWithStyles;testStyles("#modernizr { height: 50vh; }",function(elem){var height=parseInt(window.innerHeight/2,10),compStyle=parseInt(computedStyle(elem,null,"height"),10);Modernizr.addTest("cssvhunit",compStyle==height)}),testStyles("#modernizr { width: 50vw; }",function(elem){var width=parseInt(window.innerWidth/2,10),compStyle=parseInt(computedStyle(elem,null,"width"),10);Modernizr.addTest("cssvwunit",compStyle==width)}),Modernizr.addTest("placeholder","placeholder"in createElement("input")&&"placeholder"in createElement("textarea")),Modernizr.addTest("localstorage",function(){var mod="modernizr";try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(e){return!1}}),Modernizr.addTest("inlinesvg",function(){var div=createElement("div");return div.innerHTML="<svg/>","http://www.w3.org/2000/svg"==("undefined"!=typeof SVGRect&&div.firstChild&&div.firstChild.namespaceURI)}),Modernizr.addTest("canvas",function(){var elem=createElement("canvas");return!(!elem.getContext||!elem.getContext("2d"))}),Modernizr.addTest("shapes",testAllProps("shapeOutside","content-box",!0)),function(){var featureNames,feature,aliasIdx,result,nameIdx,featureName,featureNameSplit;for(var featureIdx in tests)if(tests.hasOwnProperty(featureIdx)){if(featureNames=[],feature=tests[featureIdx],feature.name&&(featureNames.push(feature.name.toLowerCase()),feature.options&&feature.options.aliases&&feature.options.aliases.length))for(aliasIdx=0;aliasIdx<feature.options.aliases.length;aliasIdx++)featureNames.push(feature.options.aliases[aliasIdx].toLowerCase());for(result=is(feature.fn,"function")?feature.fn():feature.fn,nameIdx=0;nameIdx<featureNames.length;nameIdx++)featureName=featureNames[nameIdx],featureNameSplit=featureName.split("."),1===featureNameSplit.length?Modernizr[featureNameSplit[0]]=result:(!Modernizr[featureNameSplit[0]]||Modernizr[featureNameSplit[0]]instanceof Boolean||(Modernizr[featureNameSplit[0]]=new Boolean(Modernizr[featureNameSplit[0]])),Modernizr[featureNameSplit[0]][featureNameSplit[1]]=result),classes.push((result?"":"no-")+featureNameSplit.join("-"))}}(),function(classes){var className=docElement.className,classPrefix=Modernizr._config.classPrefix||"";if(isSVG&&(className=className.baseVal),Modernizr._config.enableJSClass){var reJS=new RegExp("(^|\\s)"+classPrefix+"no-js(\\s|$)");className=className.replace(reJS,"$1"+classPrefix+"js$2")}Modernizr._config.enableClasses&&(className+=" "+classPrefix+classes.join(" "+classPrefix),isSVG?docElement.className.baseVal=className:docElement.className=className)}(classes),delete ModernizrProto.addTest,delete ModernizrProto.addAsyncTest;for(var i=0;i<Modernizr._q.length;i++)Modernizr._q[i]();window.Modernizr=Modernizr}(window,document),function($){"use strict";$(window).load(function(){var container="#woocommerce-gift-aid";$("#billing_country").on("change",function(e){var country=$(e.target).find("option:selected").val();if("GB"!==country&&$(container).length>0)$(container).remove();else if("GB"===country&&$(container).length<1){var data={action:"add_to_checkout",security:gift_aid_html.security};$.post(gift_aid_html.ajax_url,data,function(response){0!==response&&$(".woocommerce-shipping-fields").append(response)})}return!1})})}(jQuery);